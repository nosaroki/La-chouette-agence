"use strict";(function(d,c){if(typeof exports==="object"){module.exports=c()}else{if(typeof define==="function"&&define.amd){define(["jquery","googlemaps!"],c)}else{d.GMaps=c()}}})(this,function(){
    /*!
       * GMaps.js v0.4.25
       * http://hpneo.github.com/gmaps/
       *
       * Copyright 2017, Gustavo Leon
       * Released under the MIT License.
       */
    ;var s=function(b,a){var c;if(b===a){return b}for(c in a){if(a[c]!==undefined){b[c]=a[c]}}return b};var v=function(a,b){var c;if(a===b){return a}for(c in b){if(a[c]!=undefined){a[c]=b[c]}}return a};var o=function(a,b){var f=Array.prototype.slice.call(arguments,2),c=[],g=a.length,d;if(Array.prototype.map&&a.map===Array.prototype.map){c=Array.prototype.map.call(a,function(h){var i=f.slice(0);i.splice(0,0,h);return b.apply(this,i)})}else{for(d=0;d<g;d++){callback_params=f;callback_params.splice(0,0,a[d]);c.push(b.apply(this,callback_params))}}return c};var u=function(a){var b=[],c;for(c=0;c<a.length;c++){b=b.concat(a[c])}return b};var n=function(c,b){var a=c[0],d=c[1];if(b){a=c[1];d=c[0]}return new google.maps.LatLng(a,d)};var r=function(b,a){var c;for(c=0;c<b.length;c++){if(!(b[c] instanceof google.maps.LatLng)){if(b[c].length>0&&typeof b[c][0]==="object"){b[c]=r(b[c],a)}else{b[c]=n(b[c],a)}}}return b};var p=function(a,b){var c,d=a.replace(".","");if("jQuery" in this&&b){c=$("."+d,b)[0]}else{c=document.getElementsByClassName(d)[0]}return c};var y=function(a,b){var c,a=a.replace("#","");if("jQuery" in window&&b){c=$("#"+a,b)[0]}else{c=document.getElementById(a)}return c};var t=function(d){var a=0,f=0;if(d.getBoundingClientRect){var g=d.getBoundingClientRect();var b=-(window.scrollX?window.scrollX:window.pageXOffset);var c=-(window.scrollY?window.scrollY:window.pageYOffset);return[g.left-b,g.top-c]}if(d.offsetParent){do{a+=d.offsetLeft;f+=d.offsetTop}while((d=d.offsetParent))}return[a,f]};var q=(function(b){var a=document;var c=function(Z){if(!(typeof window.google==="object"&&window.google.maps)){if(typeof window.console==="object"&&window.console.error){console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js.")}return function(){}}if(!this){return new c(Z)}Z.zoom=Z.zoom||15;Z.mapType=Z.mapType||"roadmap";var U=function(z,A){return z===undefined?A:z};var k=this,i,V=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],ai=["mousemove","mouseout","mouseover"],af=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],ad=Z.el||Z.div,am=Z.markerClusterer,h=google.maps.MapTypeId[Z.mapType.toUpperCase()],m=new google.maps.LatLng(Z.lat,Z.lng),d=U(Z.zoomControl,true),aj=Z.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},j=aj.style||"DEFAULT",ah=aj.position||"TOP_LEFT",ac=U(Z.panControl,true),T=U(Z.mapTypeControl,true),ag=U(Z.scaleControl,true),al=U(Z.streetViewControl,true),X=U(X,true),l={},Y={zoom:this.zoom,center:m,mapTypeId:h},ak={panControl:ac,zoomControl:d,zoomControlOptions:{style:google.maps.ZoomControlStyle[j],position:google.maps.ControlPosition[ah]},mapTypeControl:T,scaleControl:ag,streetViewControl:al,overviewMapControl:X};if(typeof Z.el==="string"||typeof Z.div==="string"){if(ad.indexOf("#")>-1){this.el=y(ad,Z.context)}else{this.el=p.apply(this,[ad,Z.context])}}else{this.el=ad}if(typeof this.el==="undefined"||this.el===null){throw"No element defined."}window.context_menu=window.context_menu||{};window.context_menu[k.el.id]={};this.controls=[];this.overlays=[];this.layers=[];this.singleLayers={};this.markers=[];this.polylines=[];this.routes=[];this.polygons=[];this.infoWindow=null;this.overlay_el=null;this.zoom=Z.zoom;this.registered_events={};this.el.style.width=Z.width||this.el.scrollWidth||this.el.offsetWidth;this.el.style.height=Z.height||this.el.scrollHeight||this.el.offsetHeight;google.maps.visualRefresh=Z.enableNewStyle;for(i=0;i<af.length;i++){delete Z[af[i]]}if(Z.disableDefaultUI!=true){Y=s(Y,ak)}l=s(Y,Z);for(i=0;i<V.length;i++){delete l[V[i]]}for(i=0;i<ai.length;i++){delete l[ai[i]]}this.map=new google.maps.Map(this.el,l);if(am){this.markerClusterer=am.apply(this,[this.map])}var ab=function(C,L){var M="",H=window.context_menu[k.el.id][C];for(var B in H){if(H.hasOwnProperty(B)){var z=H[B];M+='<li><a id="'+C+"_"+B+'" href="#">'+z.title+"</a></li>"}}if(!y("gmaps_context_menu")){return}var K=y("gmaps_context_menu");K.innerHTML=M;var G=K.getElementsByTagName("a"),I=G.length,B;for(B=0;B<I;B++){var E=G[B];var D=function(N){N.preventDefault();H[this.id.replace(C+"_","")].action.apply(k,[L]);k.hideContextMenu()};google.maps.event.clearListeners(E,"click");google.maps.event.addDomListenerOnce(E,"click",D,false)}var A=t.apply(this,[k.el]),F=A[0]+L.pixel.x-15,J=A[1]+L.pixel.y-15;K.style.left=F+"px";K.style.top=J+"px"};this.buildContextMenu=function(A,B){if(A==="marker"){B.pixel={};var C=new google.maps.OverlayView();C.setMap(k.map);C.draw=function(){var D=C.getProjection(),E=B.marker.getPosition();B.pixel=D.fromLatLngToContainerPixel(E);ab(A,B)}}else{ab(A,B)}var z=y("gmaps_context_menu");setTimeout(function(){z.style.display="block"},0)};this.setContextMenu=function(C){window.context_menu[k.el.id][C.control]={};var A,B=a.createElement("ul");for(A in C.options){if(C.options.hasOwnProperty(A)){var z=C.options[A];window.context_menu[k.el.id][C.control][z.name]={title:z.title,action:z.action}}}B.id="gmaps_context_menu";B.style.display="none";B.style.position="absolute";B.style.minWidth="100px";B.style.background="white";B.style.listStyle="none";B.style.padding="8px";B.style.boxShadow="2px 2px 6px #ccc";if(!y("gmaps_context_menu")){a.body.appendChild(B)}var D=y("gmaps_context_menu");google.maps.event.addDomListener(D,"mouseout",function(E){if(!E.relatedTarget||!this.contains(E.relatedTarget)){window.setTimeout(function(){D.style.display="none"},400)}},false)};this.hideContextMenu=function(){var z=y("gmaps_context_menu");if(z){z.style.display="none"}};var W=function(z,A){google.maps.event.addListener(z,A,function(B){if(B==undefined){B=this}Z[A].apply(this,[B]);k.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var g=0;g<V.length;g++){var f=V[g];if(f in Z){W(this.map,f)}}for(var g=0;g<ai.length;g++){var f=ai[g];if(f in Z){W(this.map,f)}}google.maps.event.addListener(this.map,"rightclick",function(z){if(Z.rightclick){Z.rightclick.apply(this,[z])}if(window.context_menu[k.el.id]["map"]!=undefined){k.buildContextMenu("map",z)}});this.refresh=function(){google.maps.event.trigger(this.map,"resize")};this.fitZoom=function(){var z=[],B=this.markers.length,A;for(A=0;A<B;A++){if(typeof this.markers[A].visible==="boolean"&&this.markers[A].visible){z.push(this.markers[A].getPosition())}}this.fitLatLngBounds(z)};this.fitLatLngBounds=function(z){var A=z.length,B=new google.maps.LatLngBounds(),C;for(C=0;C<A;C++){B.extend(z[C])}this.map.fitBounds(B)};this.setCenter=function(A,B,z){this.map.panTo(new google.maps.LatLng(A,B));if(z){z()}};this.getElement=function(){return this.el};this.zoomIn=function(z){z=z||1;this.zoom=this.map.getZoom()+z;this.map.setZoom(this.zoom)};this.zoomOut=function(z){z=z||1;this.zoom=this.map.getZoom()-z;this.map.setZoom(this.zoom)};var aa=[],ae;for(ae in this.map){if(typeof this.map[ae]=="function"&&!this[ae]){aa.push(ae)}}for(i=0;i<aa.length;i++){(function(B,z,A){B[A]=function(){return z[A].apply(z,arguments)}})(this,this.map,aa[i])}};return c})(this);q.prototype.createControl=function(d){var a=document.createElement("div");a.style.cursor="pointer";if(d.disableDefaultStyles!==true){a.style.fontFamily="Roboto, Arial, sans-serif";a.style.fontSize="11px";a.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px"}for(var c in d.style){a.style[c]=d.style[c]}if(d.id){a.id=d.id}if(d.title){a.title=d.title}if(d.classes){a.className=d.classes}if(d.content){if(typeof d.content==="string"){a.innerHTML=d.content}else{if(d.content instanceof HTMLElement){a.appendChild(d.content)}}}if(d.position){a.position=google.maps.ControlPosition[d.position.toUpperCase()]}for(var b in d.events){(function(f,g){google.maps.event.addDomListener(f,g,function(){d.events[g].apply(this,[this])})})(a,b)}a.index=1;return a};q.prototype.addControl=function(b){var a=this.createControl(b);this.controls.push(a);this.map.controls[a.position].push(a);return a};q.prototype.removeControl=function(a){var d=null,b;for(b=0;b<this.controls.length;b++){if(this.controls[b]==a){d=this.controls[b].position;this.controls.splice(b,1)}}if(d){for(b=0;b<this.map.controls.length;b++){var c=this.map.controls[a.position];if(c.getAt(b)==a){c.removeAt(b);break}}}return a};q.prototype.createMarker=function(g){if(g.lat==undefined&&g.lng==undefined&&g.position==undefined){throw"No latitude or longitude defined."}var h=this,d=g.details,m=g.fences,k=g.outside,a={position:new google.maps.LatLng(g.lat,g.lng),map:null},c=s(a,g);delete c.lat;delete c.lng;delete c.fences;delete c.outside;var l=new google.maps.Marker(c);l.fences=m;if(g.infoWindow){l.infoWindow=new google.maps.InfoWindow(g.infoWindow);var f=["closeclick","content_changed","domready","position_changed","zindex_changed"];for(var j=0;j<f.length;j++){(function(B,C){if(g.infoWindow[C]){google.maps.event.addListener(B,C,function(z){g.infoWindow[C].apply(this,[z])})}})(l.infoWindow,f[j])}}var i=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"];var b=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"];for(var j=0;j<i.length;j++){(function(B,C){if(g[C]){google.maps.event.addListener(B,C,function(){g[C].apply(this,[this])})}})(l,i[j])}for(var j=0;j<b.length;j++){(function(E,C,D){if(g[D]){google.maps.event.addListener(C,D,function(z){if(!z.pixel){z.pixel=E.getProjection().fromLatLngToPoint(z.latLng)}g[D].apply(this,[z])})}})(this.map,l,b[j])}google.maps.event.addListener(l,"click",function(){this.details=d;if(g.click){g.click.apply(this,[this])}if(l.infoWindow){h.hideInfoWindows();l.infoWindow.open(h.map,l)}});google.maps.event.addListener(l,"rightclick",function(A){A.marker=this;if(g.rightclick){g.rightclick.apply(this,[A])}if(window.context_menu[h.el.id]["marker"]!=undefined){h.buildContextMenu("marker",A)}});if(l.fences){google.maps.event.addListener(l,"dragend",function(){h.checkMarkerGeofence(l,function(C,B){k(C,B)})})}return l};q.prototype.addMarker=function(a){var b;if(a.hasOwnProperty("gm_accessors_")){b=a}else{if((a.hasOwnProperty("lat")&&a.hasOwnProperty("lng"))||a.position){b=this.createMarker(a)}else{throw"No latitude or longitude defined."}}b.setMap(this.map);if(this.markerClusterer){this.markerClusterer.addMarker(b)}this.markers.push(b);q.fire("marker_added",b,this);return b};q.prototype.addMarkers=function(a){for(var b=0,c;(c=a[b]);b++){this.addMarker(c)}return this.markers};q.prototype.hideInfoWindows=function(){for(var a=0,b;(b=this.markers[a]);a++){if(b.infoWindow){b.infoWindow.close()}}};q.prototype.removeMarker=function(b){for(var a=0;a<this.markers.length;a++){if(this.markers[a]===b){this.markers[a].setMap(null);this.markers.splice(a,1);if(this.markerClusterer){this.markerClusterer.removeMarker(b)}q.fire("marker_removed",b,this);break}}return b};q.prototype.removeMarkers=function(a){var f=[];if(typeof a=="undefined"){for(var b=0;b<this.markers.length;b++){var d=this.markers[b];d.setMap(null);q.fire("marker_removed",d,this)}if(this.markerClusterer&&this.markerClusterer.clearMarkers){this.markerClusterer.clearMarkers()}this.markers=f}else{for(var b=0;b<a.length;b++){var c=this.markers.indexOf(a[b]);if(c>-1){var d=this.markers[c];d.setMap(null);if(this.markerClusterer){this.markerClusterer.removeMarker(d)}q.fire("marker_removed",d,this)}}for(var b=0;b<this.markers.length;b++){var d=this.markers[b];if(d.getMap()!=null){f.push(d)}}this.markers=f}};q.prototype.drawOverlay=function(b){var c=new google.maps.OverlayView(),a=true;c.setMap(this.map);if(b.auto_show!=null){a=b.auto_show}c.onAdd=function(){var f=document.createElement("div");f.style.borderStyle="none";f.style.borderWidth="0px";f.style.position="absolute";f.style.zIndex=100;f.innerHTML=b.content;c.el=f;if(!b.layer){b.layer="overlayLayer"}var g=this.getPanes(),i=g[b.layer],h=["contextmenu","DOMMouseScroll","dblclick","mousedown"];i.appendChild(f);for(var d=0;d<h.length;d++){(function(j,k){google.maps.event.addDomListener(j,k,function(l){if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all){l.cancelBubble=true;l.returnValue=false}else{l.stopPropagation()}})})(f,h[d])}if(b.click){g.overlayMouseTarget.appendChild(c.el);google.maps.event.addDomListener(c.el,"click",function(){b.click.apply(c,[c])})}google.maps.event.trigger(this,"ready")};c.draw=function(){var j=this.getProjection(),h=j.fromLatLngToDivPixel(new google.maps.LatLng(b.lat,b.lng));b.horizontalOffset=b.horizontalOffset||0;b.verticalOffset=b.verticalOffset||0;var g=c.el,f=g.children[0],i=f.clientHeight,d=f.clientWidth;switch(b.verticalAlign){case"top":g.style.top=h.y-i+b.verticalOffset+"px";break;default:case"middle":g.style.top=h.y-i/2+b.verticalOffset+"px";break;case"bottom":g.style.top=h.y+b.verticalOffset+"px";break}switch(b.horizontalAlign){case"left":g.style.left=h.x-d+b.horizontalOffset+"px";break;default:case"center":g.style.left=h.x-d/2+b.horizontalOffset+"px";break;case"right":g.style.left=h.x+b.horizontalOffset+"px";break}g.style.display=a?"block":"none";if(!a){b.show.apply(this,[g])}};c.onRemove=function(){var d=c.el;if(b.remove){b.remove.apply(this,[d])}else{c.el.parentNode.removeChild(c.el);c.el=null}};this.overlays.push(c);return c};q.prototype.removeOverlay=function(b){for(var a=0;a<this.overlays.length;a++){if(this.overlays[a]===b){this.overlays[a].setMap(null);this.overlays.splice(a,1);break}}};q.prototype.removeOverlays=function(){for(var b=0,a;(a=this.overlays[b]);b++){a.setMap(null)}this.overlays=[]};q.prototype.drawPolyline=function(g){var h=[],j=g.path;if(j.length){if(j[0][0]===undefined){h=j}else{for(var d=0,f;(f=j[d]);d++){h.push(new google.maps.LatLng(f[0],f[1]))}}}var c={map:this.map,path:h,strokeColor:g.strokeColor,strokeOpacity:g.strokeOpacity,strokeWeight:g.strokeWeight,geodesic:g.geodesic,clickable:true,editable:false,visible:true};if(g.hasOwnProperty("clickable")){c.clickable=g.clickable}if(g.hasOwnProperty("editable")){c.editable=g.editable}if(g.hasOwnProperty("icons")){c.icons=g.icons}if(g.hasOwnProperty("zIndex")){c.zIndex=g.zIndex}var a=new google.maps.Polyline(c);var i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var b=0;b<i.length;b++){(function(k,l){if(g[l]){google.maps.event.addListener(k,l,function(m){g[l].apply(this,[m])})}})(a,i[b])}this.polylines.push(a);q.fire("polyline_added",a,this);return a};q.prototype.removePolyline=function(b){for(var a=0;a<this.polylines.length;a++){if(this.polylines[a]===b){this.polylines[a].setMap(null);this.polylines.splice(a,1);q.fire("polyline_removed",b,this);break}}};q.prototype.removePolylines=function(){for(var b=0,a;(a=this.polylines[b]);b++){a.setMap(null)}this.polylines=[]};q.prototype.drawCircle=function(d){d=s({map:this.map,center:new google.maps.LatLng(d.lat,d.lng)},d);delete d.lat;delete d.lng;var c=new google.maps.Circle(d),a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var b=0;b<a.length;b++){(function(f,g){if(d[g]){google.maps.event.addListener(f,g,function(h){d[g].apply(this,[h])})}})(c,a[b])}this.polygons.push(c);return c};q.prototype.drawRectangle=function(f){f=s({map:this.map},f);var b=new google.maps.LatLngBounds(new google.maps.LatLng(f.bounds[0][0],f.bounds[0][1]),new google.maps.LatLng(f.bounds[1][0],f.bounds[1][1]));f.bounds=b;var d=new google.maps.Rectangle(f),a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var c=0;c<a.length;c++){(function(g,h){if(f[h]){google.maps.event.addListener(g,h,function(i){f[h].apply(this,[i])})}})(d,a[c])}this.polygons.push(d);return d};q.prototype.drawPolygon=function(f){var b=false;if(f.hasOwnProperty("useGeoJSON")){b=f.useGeoJSON}delete f.useGeoJSON;f=s({map:this.map},f);if(b==false){f.paths=[f.paths.slice(0)]}if(f.paths.length>0){if(f.paths[0].length>0){f.paths=u(o(f.paths,r,b))}}var d=new google.maps.Polygon(f),a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var c=0;c<a.length;c++){(function(g,h){if(f[h]){google.maps.event.addListener(g,h,function(i){f[h].apply(this,[i])})}})(d,a[c])}this.polygons.push(d);q.fire("polygon_added",d,this);return d};q.prototype.removePolygon=function(a){for(var b=0;b<this.polygons.length;b++){if(this.polygons[b]===a){this.polygons[b].setMap(null);this.polygons.splice(b,1);q.fire("polygon_removed",a,this);break}}};q.prototype.removePolygons=function(){for(var b=0,a;(a=this.polygons[b]);b++){a.setMap(null)}this.polygons=[]};q.prototype.getFromFusionTables=function(d){var b=d.events;delete d.events;var f=d,c=new google.maps.FusionTablesLayer(f);for(var a in b){(function(g,h){google.maps.event.addListener(g,h,function(i){b[h].apply(this,[i])})})(c,a)}this.layers.push(c);return c};q.prototype.loadFromFusionTables=function(b){var a=this.getFromFusionTables(b);a.setMap(this.map);return a};q.prototype.getFromKML=function(f){var g=f.url,c=f.events;delete f.url;delete f.events;var a=f,d=new google.maps.KmlLayer(g,a);for(var b in c){(function(h,i){google.maps.event.addListener(h,i,function(j){c[i].apply(this,[j])})})(d,b)}this.layers.push(d);return d};q.prototype.loadFromKML=function(b){var a=this.getFromKML(b);a.setMap(this.map);return a};q.prototype.addLayer=function(c,d){d=d||{};var b;switch(c){case"weather":this.singleLayers.weather=b=new google.maps.weather.WeatherLayer();break;case"clouds":this.singleLayers.clouds=b=new google.maps.weather.CloudLayer();break;case"traffic":this.singleLayers.traffic=b=new google.maps.TrafficLayer();break;case"transit":this.singleLayers.transit=b=new google.maps.TransitLayer();break;case"bicycling":this.singleLayers.bicycling=b=new google.maps.BicyclingLayer();break;case"panoramio":this.singleLayers.panoramio=b=new google.maps.panoramio.PanoramioLayer();b.setTag(d.filter);delete d.filter;if(d.click){google.maps.event.addListener(b,"click",function(g){d.click(g);delete d.click})}break;case"places":this.singleLayers.places=b=new google.maps.places.PlacesService(this.map);if(d.search||d.nearbySearch||d.radarSearch){var f={bounds:d.bounds||null,keyword:d.keyword||null,location:d.location||null,name:d.name||null,radius:d.radius||null,rankBy:d.rankBy||null,types:d.types||null};if(d.radarSearch){b.radarSearch(f,d.radarSearch)}if(d.search){b.search(f,d.search)}if(d.nearbySearch){b.nearbySearch(f,d.nearbySearch)}}if(d.textSearch){var a={bounds:d.bounds||null,location:d.location||null,query:d.query||null,radius:d.radius||null};b.textSearch(a,d.textSearch)}break}if(b!==undefined){if(typeof b.setOptions=="function"){b.setOptions(d)}if(typeof b.setMap=="function"){b.setMap(this.map)}return b}};q.prototype.removeLayer=function(a){if(typeof a=="string"&&this.singleLayers[a]!==undefined){this.singleLayers[a].setMap(null);delete this.singleLayers[a]}else{for(var b=0;b<this.layers.length;b++){if(this.layers[b]===a){this.layers[b].setMap(null);this.layers.splice(b,1);break}}}};var x,w;q.prototype.getRoutes=function(a){switch(a.travelMode){case"bicycling":x=google.maps.TravelMode.BICYCLING;break;case"transit":x=google.maps.TravelMode.TRANSIT;break;case"driving":x=google.maps.TravelMode.DRIVING;break;default:x=google.maps.TravelMode.WALKING;break}if(a.unitSystem==="imperial"){w=google.maps.UnitSystem.IMPERIAL}else{w=google.maps.UnitSystem.METRIC}var b={avoidHighways:false,avoidTolls:false,optimizeWaypoints:false,waypoints:[]},c=s(b,a);c.origin=/string/.test(typeof a.origin)?a.origin:new google.maps.LatLng(a.origin[0],a.origin[1]);c.destination=/string/.test(typeof a.destination)?a.destination:new google.maps.LatLng(a.destination[0],a.destination[1]);c.travelMode=x;c.unitSystem=w;delete c.callback;delete c.error;var d=this,f=[],g=new google.maps.DirectionsService();g.route(c,function(j,i){if(i===google.maps.DirectionsStatus.OK){for(var h in j.routes){if(j.routes.hasOwnProperty(h)){f.push(j.routes[h])}}if(a.callback){a.callback(f,j,i)}}else{if(a.error){a.error(j,i)}}})};q.prototype.removeRoutes=function(){this.routes.length=0};q.prototype.getElevations=function(c){c=s({locations:[],path:false,samples:256},c);if(c.locations.length>0){if(c.locations[0].length>0){c.locations=u(o([c.locations],r,false))}}var a=c.callback;delete c.callback;var d=new google.maps.ElevationService();if(!c.path){delete c.path;delete c.samples;d.getElevationForLocations(c,function(g,f){if(a&&typeof a==="function"){a(g,f)}})}else{var b={path:c.locations,samples:c.samples};d.getElevationAlongPath(b,function(g,f){if(a&&typeof a==="function"){a(g,f)}})}};q.prototype.cleanRoute=q.prototype.removePolylines;q.prototype.renderRoute=function(b,c){var d=this,f=typeof c.panel==="string"?document.getElementById(c.panel.replace("#","")):c.panel,a;c.panel=f;c=s({map:this.map},c);a=new google.maps.DirectionsRenderer(c);this.getRoutes({origin:b.origin,destination:b.destination,travelMode:b.travelMode,waypoints:b.waypoints,unitSystem:b.unitSystem,error:b.error,avoidHighways:b.avoidHighways,avoidTolls:b.avoidTolls,optimizeWaypoints:b.optimizeWaypoints,callback:function(h,g,i){if(i===google.maps.DirectionsStatus.OK){a.setDirections(g)}}})};q.prototype.drawRoute=function(a){var b=this;this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,avoidHighways:a.avoidHighways,avoidTolls:a.avoidTolls,optimizeWaypoints:a.optimizeWaypoints,callback:function(d){if(d.length>0){var c={path:d[d.length-1].overview_path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};if(a.hasOwnProperty("icons")){c.icons=a.icons}b.drawPolyline(c);if(a.callback){a.callback(d[d.length-1])}}}})};q.prototype.travelRoute=function(c){if(c.origin&&c.destination){this.getRoutes({origin:c.origin,destination:c.destination,travelMode:c.travelMode,waypoints:c.waypoints,unitSystem:c.unitSystem,error:c.error,callback:function(f){if(f.length>0&&c.start){c.start(f[f.length-1])}if(f.length>0&&c.step){var i=f[f.length-1];if(i.legs.length>0){var j=i.legs[0].steps;for(var h=0,g;(g=j[h]);h++){g.step_number=h;c.step(g,i.legs[0].steps.length-1)}}}if(f.length>0&&c.end){c.end(f[f.length-1])}}})}else{if(c.route){if(c.route.legs.length>0){var d=c.route.legs[0].steps;for(var b=0,a;(a=d[b]);b++){a.step_number=b;c.step(a)}}}}};q.prototype.drawSteppedRoute=function(c){var d=this;if(c.origin&&c.destination){this.getRoutes({origin:c.origin,destination:c.destination,travelMode:c.travelMode,waypoints:c.waypoints,error:c.error,callback:function(m){if(m.length>0&&c.start){c.start(m[m.length-1])}if(m.length>0&&c.step){var j=m[m.length-1];if(j.legs.length>0){var k=j.legs[0].steps;for(var i=0,h;(h=k[i]);i++){h.step_number=i;var l={path:h.path,strokeColor:c.strokeColor,strokeOpacity:c.strokeOpacity,strokeWeight:c.strokeWeight};if(c.hasOwnProperty("icons")){l.icons=c.icons}d.drawPolyline(l);c.step(h,j.legs[0].steps.length-1)}}}if(m.length>0&&c.end){c.end(m[m.length-1])}}})}else{if(c.route){if(c.route.legs.length>0){var f=c.route.legs[0].steps;for(var b=0,a;(a=f[b]);b++){a.step_number=b;var g={path:a.path,strokeColor:c.strokeColor,strokeOpacity:c.strokeOpacity,strokeWeight:c.strokeWeight};if(c.hasOwnProperty("icons")){g.icons=c.icons}d.drawPolyline(g);c.step(a)}}}}};q.Route=function(a){this.origin=a.origin;this.destination=a.destination;this.waypoints=a.waypoints;this.map=a.map;this.route=a.route;this.step_count=0;this.steps=this.route.legs[0].steps;this.steps_length=this.steps.length;var b={path:new google.maps.MVCArray(),strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};if(a.hasOwnProperty("icons")){b.icons=a.icons}this.polyline=this.map.drawPolyline(b).getPath()};q.Route.prototype.getRoute=function(a){var b=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:a.travelMode,waypoints:this.waypoints||[],error:a.error,callback:function(){b.route=e[0];if(a.callback){a.callback.call(b)}}})};q.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var a=this.route.legs[0].steps[this.step_count].path;for(var b in a){if(a.hasOwnProperty(b)){this.polyline.pop()}}}};q.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var a=this.route.legs[0].steps[this.step_count].path;for(var b in a){if(a.hasOwnProperty(b)){this.polyline.push(a[b])}}this.step_count++}};q.prototype.checkGeofence=function(b,c,a){return a.containsLatLng(new google.maps.LatLng(b,c))};q.prototype.checkMarkerGeofence=function(f,c){if(f.fences){for(var d=0,b;(b=f.fences[d]);d++){var a=f.getPosition();if(!this.checkGeofence(a.lat(),a.lng(),b)){c(f,b)}}}};q.prototype.toImage=function(c){var c=c||{},a={};a.size=c.size||[this.el.clientWidth,this.el.clientHeight];a.lat=this.getCenter().lat();a.lng=this.getCenter().lng();if(this.markers.length>0){a.markers=[];for(var b=0;b<this.markers.length;b++){a.markers.push({lat:this.markers[b].getPosition().lat(),lng:this.markers[b].getPosition().lng()})}}if(this.polylines.length>0){var d=this.polylines[0];a.polyline={};a.polyline.path=google.maps.geometry.encoding.encodePath(d.getPath());a.polyline.strokeColor=d.strokeColor;a.polyline.strokeOpacity=d.strokeOpacity;a.polyline.strokeWeight=d.strokeWeight}return q.staticMapURL(a)};q.staticMapURL=function(Y){var O=[],a,W=(location.protocol==="file:"?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";if(Y.url){W=Y.url;delete Y.url}W+="?";var f=Y.markers;delete Y.markers;if(!f&&Y.marker){f=[Y.marker];delete Y.marker}var i=Y.styles;delete Y.styles;var U=Y.polyline;delete Y.polyline;if(Y.center){O.push("center="+Y.center);delete Y.center}else{if(Y.address){O.push("center="+Y.address);delete Y.address}else{if(Y.lat){O.push(["center=",Y.lat,",",Y.lng].join(""));delete Y.lat;delete Y.lng}else{if(Y.visible){var Z=encodeURI(Y.visible.join("|"));O.push("visible="+Z)}}}}var X=Y.size;if(X){if(X.join){X=X.join("x")}delete Y.size}else{X="630x300"}O.push("size="+X);if(!Y.zoom&&Y.zoom!==false){Y.zoom=15}var c=Y.hasOwnProperty("sensor")?!!Y.sensor:true;delete Y.sensor;O.push("sensor="+c);for(var m in Y){if(Y.hasOwnProperty(m)){O.push(m+"="+Y[m])}}if(f){var k,g;for(var l=0;(a=f[l]);l++){k=[];if(a.size&&a.size!=="normal"){k.push("size:"+a.size);delete a.size}else{if(a.icon){k.push("icon:"+encodeURI(a.icon));delete a.icon}}if(a.color){k.push("color:"+a.color.replace("#","0x"));delete a.color}if(a.label){k.push("label:"+a.label[0].toUpperCase());delete a.label}g=a.address?a.address:a.lat+","+a.lng;delete a.address;delete a.lat;delete a.lng;for(var m in a){if(a.hasOwnProperty(m)){k.push(m+":"+a[m])}}if(k.length||l===0){k.push(g);k=k.join("|");O.push("markers="+encodeURI(k))}else{k=O.pop()+encodeURI("|"+g);O.push(k)}}}if(i){for(var l=0;l<i.length;l++){var d=[];if(i[l].featureType){d.push("feature:"+i[l].featureType.toLowerCase())}if(i[l].elementType){d.push("element:"+i[l].elementType.toLowerCase())}for(var N=0;N<i[l].stylers.length;N++){for(var S in i[l].stylers[N]){var j=i[l].stylers[N][S];if(S=="hue"||S=="color"){j="0x"+j.substring(1)}d.push(S+":"+j)}}var Q=d.join("|");if(Q!=""){O.push("style="+Q)}}}function h(z,A){if(z[0]==="#"){z=z.replace("#","0x");if(A){A=parseFloat(A);A=Math.min(1,Math.max(A,0));if(A===0){return"0x00000000"}A=(A*255).toString(16);if(A.length===1){A+=A}z=z.slice(0,8)+A}}return z}if(U){a=U;U=[];if(a.strokeWeight){U.push("weight:"+parseInt(a.strokeWeight,10))}if(a.strokeColor){var P=h(a.strokeColor,a.strokeOpacity);U.push("color:"+P)}if(a.fillColor){var b=h(a.fillColor,a.fillOpacity);U.push("fillcolor:"+b)}var V=a.path;if(V.join){for(var N=0,R;(R=V[N]);N++){U.push(R.join(","))}}else{U.push("enc:"+V)}U=U.join("|");O.push("path="+encodeURI(U))}var T=window.devicePixelRatio||1;O.push("scale="+T);O=O.join("&");return W+O};q.prototype.addMapType=function(c,b){if(b.hasOwnProperty("getTileUrl")&&typeof b.getTileUrl=="function"){b.tileSize=b.tileSize||new google.maps.Size(256,256);var a=new google.maps.ImageMapType(b);this.map.mapTypes.set(c,a)}else{throw"'getTileUrl' function required."}};q.prototype.addOverlayMapType=function(b){if(b.hasOwnProperty("getTile")&&typeof b.getTile=="function"){var a=b.index;delete b.index;this.map.overlayMapTypes.insertAt(a,b)}else{throw"'getTile' function required."}};q.prototype.removeOverlayMapType=function(a){this.map.overlayMapTypes.removeAt(a)};q.prototype.addStyle=function(a){var b=new google.maps.StyledMapType(a.styles,{name:a.styledMapName});this.map.mapTypes.set(a.mapTypeId,b)};q.prototype.setStyle=function(a){this.map.setMapTypeId(a)};q.prototype.createPanorama=function(a){if(!a.hasOwnProperty("lat")||!a.hasOwnProperty("lng")){a.lat=this.getCenter().lat();a.lng=this.getCenter().lng()}this.panorama=q.createPanorama(a);this.map.setStreetView(this.panorama);return this.panorama};q.createPanorama=function(f){var b=y(f.el,f.context);f.position=new google.maps.LatLng(f.lat,f.lng);delete f.el;delete f.context;delete f.lat;delete f.lng;var a=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],g=s({visible:true},f);for(var c=0;c<a.length;c++){delete g[a[c]]}var d=new google.maps.StreetViewPanorama(b,g);for(var c=0;c<a.length;c++){(function(h,i){if(f[i]){google.maps.event.addListener(h,i,function(){f[i].apply(this)})}})(d,a[c])}return d};q.prototype.on=function(a,b){return q.on(a,this,b)};q.prototype.off=function(a){q.off(a,this)};q.prototype.once=function(a,b){return q.once(a,this,b)};q.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"];q.on=function(a,d,b){if(q.custom_events.indexOf(a)==-1){if(d instanceof q){d=d.map}return google.maps.event.addListener(d,a,b)}else{var c={handler:b,eventName:a};d.registered_events[a]=d.registered_events[a]||[];d.registered_events[a].push(c);return c}};q.off=function(a,b){if(q.custom_events.indexOf(a)==-1){if(b instanceof q){b=b.map}google.maps.event.clearListeners(b,a)}else{b.registered_events[a]=[]}};q.once=function(a,c,b){if(q.custom_events.indexOf(a)==-1){if(c instanceof q){c=c.map}return google.maps.event.addListenerOnce(c,a,b)}};q.fire=function(a,f,b){if(q.custom_events.indexOf(a)==-1){google.maps.event.trigger(f,a,Array.prototype.slice.apply(arguments).slice(2))}else{if(a in b.registered_events){var c=b.registered_events[a];for(var d=0;d<c.length;d++){(function(g,h,i){g.apply(h,[i])})(c[d]["handler"],b,f)}}}};q.geolocate=function(b){var a=b.always||b.complete;if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(c){b.success(c);if(a){a()}},function(c){b.error(c);if(a){a()}},b.options)}else{b.not_supported();if(a){a()}}};q.geocode=function(b){this.geocoder=new google.maps.Geocoder();var a=b.callback;if(b.hasOwnProperty("lat")&&b.hasOwnProperty("lng")){b.latLng=new google.maps.LatLng(b.lat,b.lng)}delete b.lat;delete b.lng;delete b.callback;this.geocoder.geocode(b,function(c,d){a(c,d)})};if(typeof window.google==="object"&&window.google.maps){if(!google.maps.Polygon.prototype.getBounds){google.maps.Polygon.prototype.getBounds=function(d){var f=new google.maps.LatLngBounds();var a=this.getPaths();var b;for(var c=0;c<a.getLength();c++){b=a.getAt(c);for(var g=0;g<b.getLength();g++){f.extend(b.getAt(g))}}return f}}if(!google.maps.Polygon.prototype.containsLatLng){google.maps.Polygon.prototype.containsLatLng=function(l){var d=this.getBounds();if(d!==null&&!d.contains(l)){return false}var b=false;var c=this.getPaths().getLength();for(var a=0;a<c;a++){var f=this.getPaths().getAt(a);var i=f.getLength();var k=i-1;for(var j=0;j<i;j++){var g=f.getAt(j);var h=f.getAt(k);if((g.lng()<l.lng()&&h.lng()>=l.lng())||(h.lng()<l.lng()&&g.lng()>=l.lng())){if(g.lat()+((l.lng()-g.lng())/(h.lng()-g.lng()))*(h.lat()-g.lat())<l.lat()){b=!b}}k=j}}return b}}if(!google.maps.Circle.prototype.containsLatLng){google.maps.Circle.prototype.containsLatLng=function(a){if(google.maps.geometry){return(google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),a)<=this.getRadius())}else{return true}}}google.maps.Rectangle.prototype.containsLatLng=function(a){return this.getBounds().contains(a)};google.maps.LatLngBounds.prototype.containsLatLng=function(a){return this.contains(a)};google.maps.Marker.prototype.setFences=function(a){this.fences=a};google.maps.Marker.prototype.addFence=function(a){this.fences.push(a)};google.maps.Marker.prototype.getId=function(){return this["__gm_id"]}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){if(this==null){throw new TypeError()}var b=Object(this);var f=b.length>>>0;if(f===0){return -1}var a=0;if(arguments.length>1){a=Number(arguments[1]);if(a!=a){a=0}else{if(a!=0&&a!=Infinity&&a!=-Infinity){a=(a>0||-1)*Math.floor(Math.abs(a))}}}if(a>=f){return -1}var d=a>=0?a:Math.max(f-Math.abs(a),0);for(;d<f;d++){if(d in b&&b[d]===c){return d}}return -1}}return q});